<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Free Online Calculator â€“ Simple, Fast & Accurate</title>

<meta name="description" content="Free online calculator with percentage, memory, history, dark mode and full keyboard support.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; font-family: Arial, sans-serif; }

body {
    margin: 0;
    background: #f4f4f4;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
}

body.dark-mode { background:#121212; color:#fff; }

h1 { margin-bottom: 5px; }
p { margin-top: 0; text-align:center; }

.calculator {
    background: white;
    padding: 20px;
    border-radius: 12px;
    width: 100%;
    max-width: 340px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

body.dark-mode .calculator { background:#1e1e1e; }

#display {
    width:100%;
    height:60px;
    font-size:26px;
    text-align:right;
    padding:10px;
    margin-bottom:10px;
}

.buttons {
    display:grid;
    grid-template-columns: repeat(5,1fr);
    gap:10px;
}

button {
    height:60px;
    font-size:18px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:#e0e0e0;
}

body.dark-mode button { background:#444; color:white; }

.wide { grid-column: span 2; }

.history-container {
    margin-top:20px;
    width:100%;
    max-width:340px;
}

.history-list {
    max-height:150px;
    overflow-y:auto;
    background:#fff;
    padding:10px;
    border:1px solid #ccc;
    border-radius:8px;
}

body.dark-mode .history-list {
    background:#2a2a2a;
    border-color:#555;
}

footer {
    margin-top: 25px;
    font-size: 14px;
}
footer a {
    margin: 0 6px;
    text-decoration: none;
}
</style>
</head>

<body>

<h1>Free Online Calculator</h1>
<p>Fast, simple calculator with percentage, memory & history</p>

<button onclick="toggleDarkMode()">Toggle Dark Mode ðŸŒ™</button>

<div class="calculator">
<input type="text" id="display" disabled>

<div class="buttons">
<button onclick="memoryClear()">MC</button>
<button onclick="memoryRecall()">MR</button>
<button onclick="memoryAdd()">M+</button>
<button onclick="memorySub()">M-</button>
<button onclick="clearDisplay()">C</button>

<button onclick="toggleSign()">Â±</button>
<button onclick="calculatePercent()">%</button>
<button onclick="appendOperator('/')">Ã·</button>
<button onclick="appendOperator('*')">Ã—</button>
<button onclick="appendOperator('-')">âˆ’</button>

<button onclick="appendValue('7')">7</button>
<button onclick="appendValue('8')">8</button>
<button onclick="appendValue('9')">9</button>
<button onclick="appendOperator('+')">+</button>
<button onclick="appendValue('4')">4</button>

<button onclick="appendValue('5')">5</button>
<button onclick="appendValue('6')">6</button>
<button onclick="appendValue('1')">1</button>
<button onclick="appendValue('2')">2</button>
<button onclick="appendValue('3')">3</button>

<button class="wide" onclick="appendValue('0')">0</button>
<button onclick="appendValue('.')">.</button>
<button onclick="calculateResult()">=</button>
</div>
</div>

<div class="history-container">
<div id="historyList" class="history-list"></div>
<button onclick="clearHistory()">Clear History</button>
</div>

<footer>
<a href="about.html">About</a> |
<a href="contact.html">Contact</a> |
<a href="privacy.html">Privacy Policy</a>
</footer>

<script>
let display = document.getElementById("display");
let historyListEl = document.getElementById("historyList");
let memory = 0;

function appendValue(v){ display.value += v; }
function appendOperator(o){ display.value += " " + o + " "; }
function clearDisplay(){ display.value=""; }
function toggleSign(){
    if(display.value)
        display.value = display.value.startsWith("-") ? display.value.slice(1) : "-" + display.value;
}
function calculatePercent(){
    let v=parseFloat(display.value);
    if(!isNaN(v)) display.value = v/100;
}
function calculateResult(){
    try{
        let r=eval(display.value);
        addHistory(display.value+" = "+r);
        display.value=r;
    }catch{ display.value="Error"; }
}
function addHistory(t){
    let d=document.createElement("div");
    d.textContent=t;
    historyListEl.prepend(d);
    localStorage.setItem("calcHistory",historyListEl.innerHTML);
}
function clearHistory(){
    historyListEl.innerHTML="";
    localStorage.removeItem("calcHistory");
}
function memoryAdd(){ memory+=parseFloat(display.value)||0; }
function memorySub(){ memory-=parseFloat(display.value)||0; }
function memoryRecall(){ display.value+=memory; }
function memoryClear(){ memory=0; }

if(localStorage.getItem("calcHistory"))
    historyListEl.innerHTML=localStorage.getItem("calcHistory");

document.addEventListener("keydown",e=>{
    if("0123456789".includes(e.key)) appendValue(e.key);
    if(["+","-","*","/"].includes(e.key)) appendOperator(e.key);
    if(e.key==="Enter") calculateResult();
    if(e.key==="Escape") clearDisplay();
    if(e.key==="Backspace") display.value=display.value.slice(0,-1);
    if(e.key==="%") calculatePercent();
});

function toggleDarkMode(){
    document.body.classList.toggle("dark-mode");
    localStorage.setItem("theme",
        document.body.classList.contains("dark-mode")?"dark":"light");
}
if(localStorage.getItem("theme")==="dark")
    document.body.classList.add("dark-mode");
</script>

</body>
</html>
